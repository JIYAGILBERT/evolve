{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link rel="stylesheet" href="{% static 'css/user/product_detail.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- Main Product Section -->
    <div class="row">
        <!-- Left Column: Product Images -->
        <div class="col-md-5">
            <div class="product-image-gallery d-flex">
                <!-- Thumbnails -->
                <div class="thumbnail-images d-flex flex-column me-3">
                    {% if product.image_1 %}
                        <img src="{{ product.image_1.url }}" alt="{{ product.name }} Thumbnail 1" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                    {% endif %}
                    {% if product.image_2 %}
                        <img src="{{ product.image_2.url }}" alt="{{ product.name }} Thumbnail 2" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                    {% endif %}
                    {% if product.image_3 %}
                        <img src="{{ product.image_3.url }}" alt="{{ product.name }} Thumbnail 3" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                    {% endif %}
                    {% if product.image_4 %}
                        <img src="{{ product.image_4.url }}" alt="{{ product.name }} Thumbnail 4" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                    {% endif %}
                    {% if not product.image_1 and not product.image_2 and not product.image_3 and not product.image_4 %}
                        <img src="https://via.placeholder.com/60" alt="Thumbnail 1" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                        <img src="https://via.placeholder.com/60" alt="Thumbnail 2" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                        <img src="https://via.placeholder.com/60" alt="Thumbnail 3" class="thumbnail img-fluid mb-2" style="width: 60px; cursor: pointer;">
                    {% endif %}
                </div>
                <!-- Main Image -->
                <div class="main-image">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid" id="main-product-image">
                    {% else %}
                        <img src="https://via.placeholder.com/400" alt="No Image" class="img-fluid" id="main-product-image">
                    {% endif %}
                </div>
            </div>
            <!-- Product Actions -->
            <div class="product-actions mt-3">
                <button class="btn btn-cart me-2">Add to Cart</button>
                <button class="btn btn-buy">Buy Now</button>
            </div>
        </div>

        <!-- Right Column: Product Details -->
        <div class="col-md-7">
            <h1 class="product-name">{{ product.name }}</h1>
            <div class="product-description">
                <h4>Product Description</h4>
                <!-- Immersive Sound -->
                <h5>Immersive Sound</h5>
                <p>{{ product.specifications.immersive_sound|default:"No immersive sound details available." }}</p>
                <!-- Multi-functional Design -->
                <h5>Multi-functional Design</h5>
                <p>{{ product.specifications.multi_functional_design|default:"No design details available." }}</p>
                <!-- Impressive Appearance -->
                <h5>Impressive Appearance</h5>
                <p>{{ product.specifications.impressive_appearance|default:"No appearance details available." }}</p>
                <!-- Enhanced Visual Effect -->
                <h5>Enhanced Visual Effect</h5>
                <p>{{ product.specifications.enhanced_visual_effect|default:"No visual effect details available." }}</p>
            </div>
        </div>
    </div>
</div>

<script>
document.querySelectorAll('.thumbnail').forEach(thumbnail => {
    thumbnail.addEventListener('click', function() {
        document.getElementById('main-product-image').src = this.src;
    });
});
</script>
{% endblock %}